{"title":"图片上传控件","uid":"4f746ee5321e2060cb95a81153a748fa","slug":"图片上传控件","date":"2025-07-29T09:26:07.000Z","updated":"2025-07-29T09:59:48.335Z","comments":true,"path":"api/articles/图片上传控件.json","keywords":null,"cover":null,"content":"<h2 id=\"✅-一、使用控件组合实现图片上传功能\"><a href=\"#✅-一、使用控件组合实现图片上传功能\" class=\"headerlink\" title=\"✅ 一、使用控件组合实现图片上传功能\"></a>✅ 一、使用控件组合实现图片上传功能</h2><h3 id=\"💡-常用控件：\"><a href=\"#💡-常用控件：\" class=\"headerlink\" title=\"💡 常用控件：\"></a>💡 常用控件：</h3><ul>\n<li><code>PictureBox</code>：用于展示图片</li>\n<li><code>Button</code>：点击上传</li>\n<li><code>OpenFileDialog</code>：选择图片文件</li>\n</ul>\n<h2 id=\"🔧-二、完整示例代码\"><a href=\"#🔧-二、完整示例代码\" class=\"headerlink\" title=\"🔧 二、完整示例代码\"></a>🔧 二、完整示例代码</h2><h3 id=\"📌-UI-布局示意：\"><a href=\"#📌-UI-布局示意：\" class=\"headerlink\" title=\"📌 UI 布局示意：\"></a>📌 UI 布局示意：</h3><ul>\n<li>PictureBox：<code>pictureBox1</code></li>\n<li>Button：<code>btnUpload</code></li>\n<li>Label：<code>lblImagePath</code>（显示路径，可选）</li>\n</ul>\n<h3 id=\"🎯-上传图片并显示在-PictureBox-中\"><a href=\"#🎯-上传图片并显示在-PictureBox-中\" class=\"headerlink\" title=\"🎯 上传图片并显示在 PictureBox 中\"></a>🎯 上传图片并显示在 PictureBox 中</h3><figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title\">btnUpload_Click</span>(<span class=\"params\"><span class=\"built_in\">object</span> sender, EventArgs e</span>)</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">using</span>(OpenFileDialog ofd = <span class=\"keyword\">new</span> OpenFileDialog())&#123;</span><br><span class=\"line\">\t\tofd.Title = <span class=\"string\">&quot;选择图片&quot;</span>;</span><br><span class=\"line\">\t\tofd.Filter = <span class=\"string\">&quot;图片文件 (*.jpg,*.jpeg,*.png)|*.jpg,*.jpeg,*.png&quot;</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(ofd.ShowDialog() == DialogResult.OK)&#123;</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">string</span> imagePath = ofd.FileName;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// 显示到PictureBox</span></span><br><span class=\"line\">\t\t\tpictureBox1.Image = Image.FromFile(imagePath);</span><br><span class=\"line\">\t\t\tpictureBox1.SizeMode = PictureBoxSizeMode.Zoom; <span class=\"comment\">// 自适应缩放</span></span><br><span class=\"line\">\t\t\t<span class=\"comment\">// 保存路径以便后续操作</span></span><br><span class=\"line\">\t\t\tlblImagePath.Text = imagePath;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"🧊-三、其他增强功能\"><a href=\"#🧊-三、其他增强功能\" class=\"headerlink\" title=\"🧊 三、其他增强功能\"></a>🧊 三、其他增强功能</h2><h3 id=\"📦-1-存储为二进制（用于存入数据库）\"><a href=\"#📦-1-存储为二进制（用于存入数据库）\" class=\"headerlink\" title=\"📦 1. 存储为二进制（用于存入数据库）\"></a>📦 1. 存储为二进制（用于存入数据库）</h3><figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">byte</span>[] imageBytes = File.ReadAllBytes(ofd.FileName);</span><br><span class=\"line\"><span class=\"comment\">// 可以保存到数据库的 byte[] 字段中</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"🖼️-2-从数据库加载-byte-到-PictureBox\"><a href=\"#🖼️-2-从数据库加载-byte-到-PictureBox\" class=\"headerlink\" title=\"🖼️ 2. 从数据库加载 byte[] 到 PictureBox\"></a>🖼️ 2. 从数据库加载 byte[] 到 PictureBox</h3><figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">using</span> (MemoryStream ms = <span class=\"keyword\">new</span> MemoryStream(imageBytesFromDB))</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    pictureBox1.Image = Image.FromStream(ms);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"🔄-3-清空图片按钮\"><a href=\"#🔄-3-清空图片按钮\" class=\"headerlink\" title=\"🔄 3. 清空图片按钮\"></a>🔄 3. 清空图片按钮</h3><figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pictureBox1.Image = <span class=\"literal\">null</span>;</span><br><span class=\"line\">lblImagePath.Text = <span class=\"string\">&quot;&quot;</span>;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"📌-总结：功能清单\"><a href=\"#📌-总结：功能清单\" class=\"headerlink\" title=\"📌 总结：功能清单\"></a>📌 总结：功能清单</h2><table>\n<thead>\n<tr>\n<th>功能</th>\n<th>实现控件</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>上传图片</td>\n<td>OpenFileDialog + PictureBox</td>\n</tr>\n<tr>\n<td>显示图片</td>\n<td>PictureBox.SizeMode &#x3D; Zoom</td>\n</tr>\n<tr>\n<td>获取路径</td>\n<td><code>OpenFileDialog.FileName</code></td>\n</tr>\n<tr>\n<td>转 byte[]</td>\n<td><code>File.ReadAllBytes()</code></td>\n</tr>\n<tr>\n<td>加载 byte[]</td>\n<td><code>MemoryStream</code></td>\n</tr>\n<tr>\n<td>支持格式</td>\n<td><code>*.jpg; *.png; *.bmp; *.jpeg</code></td>\n</tr>\n</tbody></table>\n","text":"✅ 一、使用控件组合实现图片上传功能💡 常用控件： PictureBox：用于展示图片 Button：点击上传 OpenFileDialog：选择图片文件 🔧 ...","permalink":"/post/图片上传控件","photos":[],"count_time":{"symbolsCount":"1.3k","symbolsTime":"1 mins."},"categories":[],"tags":[{"name":"Entity Framework","slug":"Entity-Framework","count":3,"path":"api/tags/Entity-Framework.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E2%9C%85-%E4%B8%80%E3%80%81%E4%BD%BF%E7%94%A8%E6%8E%A7%E4%BB%B6%E7%BB%84%E5%90%88%E5%AE%9E%E7%8E%B0%E5%9B%BE%E7%89%87%E4%B8%8A%E4%BC%A0%E5%8A%9F%E8%83%BD\"><span class=\"toc-text\">✅ 一、使用控件组合实现图片上传功能</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%F0%9F%92%A1-%E5%B8%B8%E7%94%A8%E6%8E%A7%E4%BB%B6%EF%BC%9A\"><span class=\"toc-text\">💡 常用控件：</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%F0%9F%94%A7-%E4%BA%8C%E3%80%81%E5%AE%8C%E6%95%B4%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81\"><span class=\"toc-text\">🔧 二、完整示例代码</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%F0%9F%93%8C-UI-%E5%B8%83%E5%B1%80%E7%A4%BA%E6%84%8F%EF%BC%9A\"><span class=\"toc-text\">📌 UI 布局示意：</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%F0%9F%8E%AF-%E4%B8%8A%E4%BC%A0%E5%9B%BE%E7%89%87%E5%B9%B6%E6%98%BE%E7%A4%BA%E5%9C%A8-PictureBox-%E4%B8%AD\"><span class=\"toc-text\">🎯 上传图片并显示在 PictureBox 中</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%F0%9F%A7%8A-%E4%B8%89%E3%80%81%E5%85%B6%E4%BB%96%E5%A2%9E%E5%BC%BA%E5%8A%9F%E8%83%BD\"><span class=\"toc-text\">🧊 三、其他增强功能</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%F0%9F%93%A6-1-%E5%AD%98%E5%82%A8%E4%B8%BA%E4%BA%8C%E8%BF%9B%E5%88%B6%EF%BC%88%E7%94%A8%E4%BA%8E%E5%AD%98%E5%85%A5%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%89\"><span class=\"toc-text\">📦 1. 存储为二进制（用于存入数据库）</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%F0%9F%96%BC%EF%B8%8F-2-%E4%BB%8E%E6%95%B0%E6%8D%AE%E5%BA%93%E5%8A%A0%E8%BD%BD-byte-%E5%88%B0-PictureBox\"><span class=\"toc-text\">🖼️ 2. 从数据库加载 byte[] 到 PictureBox</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%F0%9F%94%84-3-%E6%B8%85%E7%A9%BA%E5%9B%BE%E7%89%87%E6%8C%89%E9%92%AE\"><span class=\"toc-text\">🔄 3. 清空图片按钮</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%F0%9F%93%8C-%E6%80%BB%E7%BB%93%EF%BC%9A%E5%8A%9F%E8%83%BD%E6%B8%85%E5%8D%95\"><span class=\"toc-text\">📌 总结：功能清单</span></a></li></ol>","author":{"name":"Felix Still","slug":"blog-author","avatar":"/images/avatar.jpg","link":"/","description":"Documenting my journey in Android native and WinForms development. Tutorials, experiments, and practical coding experiences.","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"Entity Framework常用操作","uid":"0adec41aad666bb9dbc2e935ddaf42e9","slug":"Entity Framework常用操作","date":"2025-07-29T09:26:07.000Z","updated":"2025-07-29T09:59:35.878Z","comments":true,"path":"api/articles/Entity Framework常用操作.json","keywords":null,"cover":null,"text":"一、基础操作（增删改查）▶ 添加数据（Create） 1234DB context = new DB()User user = new User {Name =...","permalink":"/post/Entity Framework常用操作","photos":[],"count_time":{"symbolsCount":"1.5k","symbolsTime":"1 mins."},"categories":[],"tags":[{"name":"Entity Framework","slug":"Entity-Framework","count":3,"path":"api/tags/Entity-Framework.json"}],"author":{"name":"Felix Still","slug":"blog-author","avatar":"/images/avatar.jpg","link":"/","description":"Documenting my journey in Android native and WinForms development. Tutorials, experiments, and practical coding experiences.","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{}}